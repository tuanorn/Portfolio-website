System.register("chunks:///_virtual/battleController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cardController.ts","./mainSceneComponent.ts"],(function(e){var t,n,o,l,r,i,a,s,c,d,u,g,m;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,l=e._decorator,r=e.CircleCollider2D,i=e.Contact2DType,a=e.Vec3,s=e.tween,c=e.Node,d=e.Sprite,u=e.Component},function(e){g=e.cardController},function(e){m=e.mainSceneComponent}],execute:function(){var p;o._RF.push({},"e2db4jEWN5Cqa8rCJvGw2Ng","battleController",void 0);var C=l.ccclass;l.property,e("battleController",C("battleController")(p=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).redSlotOccupier=void 0,t.blueSlotOccupier=void 0,t.selectedItems1=[],t.selectedItems2=[],t}t(o,e);var l=o.prototype;return l.onLoad=function(){this.node.getChildByName("Red_slot").getComponent(r).on(i.BEGIN_CONTACT,this.onSlotContact,this),this.node.getChildByName("Red_slot").getComponent(r).on(i.END_CONTACT,this.onSlotContactEnded,this),this.node.getChildByName("Blue_slot").getComponent(r).on(i.BEGIN_CONTACT,this.onSlotContact,this),this.node.getChildByName("Blue_slot").getComponent(r).on(i.END_CONTACT,this.onSlotContactEnded,this),this.enableItemSelection()},l.onSlotContact=function(e,t,n){var o=t.node.parent.getComponent(g);if(null!=o){if(o.isInSlot=!0,"Red_slot"==e.node.name?null!=this.redSlotOccupier:null!=this.blueSlotOccupier)return;this.onStopDragging(e.node)}},l.onSlotContactEnded=function(e,t,n){"Red_slot"==e.node.name&&this.redSlotOccupier==t.node?this.redSlotOccupier=null:"Blue_slot"==e.node.name&&this.blueSlotOccupier==t.node&&(this.blueSlotOccupier=null),t.node.parent.getComponent(g).isInSlot=!1},l.onStopDragging=function(e){var t=this,n=this.node.parent.getChildByName("Cards").getComponent(g);n.onStopMoving=function(){if(null==e)if(null==t.redSlotOccupier)t.redSlotOccupier=n.currDragTarget,e=t.node.getChildByName("Red_slot");else{if(null!=t.blueSlotOccupier||t.redSlotOccupier==n.currDragTarget)return;t.blueSlotOccupier=n.currDragTarget,e=t.node.getChildByName("Blue_slot")}"Red_slot"==e.name?t.redSlotOccupier=n.currDragTarget:t.blueSlotOccupier=n.currDragTarget;var o=new a;n.currDragTarget.parent.getWorldMatrix().invert().multiply(e.worldMatrix).getTranslation(o),s(n.currDragTarget).to(.2,{position:o},{easing:"quadInOut",onComplete:function(){n.currDragTarget=null,n.isInSlot=!1,null!=t.redSlotOccupier&&null!=t.blueSlotOccupier&&t.startBattle()}}).start()}},l.enableItemSelection=function(e,t,o,l){var r=this;if(null==t){var i=this.node.parent.getChildByName("Battle_info").getChildByName("Item_set_1"),a=this.node.parent.getChildByName("Battle_info").getChildByName("Red_sum_slots").getChildByName("Red_diamond_slot_1"),s=this.node.parent.getChildByName("Battle_info").getChildByName("Red_sum_slots").getChildByName("Red_diamond_slot_2"),u=this.node.parent.getChildByName("Battle_info").getChildByName("Item_set_2"),g=this.node.parent.getChildByName("Battle_info").getChildByName("Blue_sum_slots").getChildByName("Blue_diamond_slot_1"),m=this.node.parent.getChildByName("Battle_info").getChildByName("Blue_sum_slots").getChildByName("Blue_diamond_slot_2");this.enableItemSelection(i,a,s,this.selectedItems1),this.enableItemSelection(u,g,m,this.selectedItems2)}else for(var p,C=function(){var e=p.value;e.on(c.EventType.MOUSE_DOWN,(function(n){e.getComponent(d).grayscale?(e.name.match("Poison_dagger")&&(t.getComponent(d).grayscale?t.getComponent(d).grayscale=!1:o.getComponent(d).grayscale=!1),e.getComponent(d).grayscale=!1,l.push(e)):(e.name.match("Poison_dagger")&&(o.getComponent(d).grayscale?t.getComponent(d).grayscale=!0:o.getComponent(d).grayscale=!0),e.getComponent(d).grayscale=!0,l.find((function(t,n){t==e&&l.splice(n,1)})))}),r)},h=n(e.children);!(p=h()).done;)C()},l.startBattle=function(){this.node.parent.getComponent(m).startBetting()},l.update=function(e){this.onStopDragging()},o}(u))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/bettingController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mainSceneComponent.ts","./battleController.ts"],(function(t){var e,n,o,a,i,r,s,l,g,c,m,p,d,h,u,C,f,y,_,B,b,v,N,A,E,S,I;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,a=t._decorator,i=t.input,r=t.Input,s=t.KeyCode,l=t.Camera,g=t.geometry,c=t.Vec3,m=t.PhysicsSystem,p=t.Quat,d=t.tween,h=t.Node,u=t.Label,C=t.UIOpacity,f=t.instantiate,y=t.resources,_=t.Prefab,B=t.BoxCollider,b=t.Widget,v=t.Button,N=t.EditBox,A=t.Color,E=t.Component},function(t){S=t.mainSceneComponent},function(t){I=t.battleController}],execute:function(){var w;o._RF.push({},"7f0252uhOhNEJxFArpM6YEg","bettingController",void 0);var R=a.ccclass;a.property,t("bettingController",R("bettingController")(w=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).numRegex=/(-|)([0-9]+)/,e.coinRotating=!1,e.betting=!1,e.cards=void 0,e.cardSlots=void 0,e.bettors1=[],e.bettors2=[],e.numRegex_G=/(-|)([0-9]+)/,e}e(o,t);var a=o.prototype;return a.onLoad=function(){this.duplicateCoinSets(),this.enableBettorSelection(),this.enableCoinFlip(),this.enableWinBtns(),i.on(r.EventType.KEY_DOWN,this.onKeyDown,this)},a.onKeyDown=function(t){switch(t.keyCode){case s.KEY_R:this.betting?this.stopBetting():this.startBetting()}},a.duplicateCoinSets=function(){for(var t=this.node.getChildByName("Coin_set_1"),e=t.getChildByName("Row_1"),a=["As","Dupondius","Tressis","Quincussis","Decussis"],i=0,r=function(r){var s,g=0==r?e:f(e);g.name="Row_"+(r+1),g.parent=e.parent,y.load("models/"+a[r]+"/"+a[r],_,(function(e,m){(s=f(m)).getChildByName(a[r]).setRotationFromEuler(new c(-90,90,0));var p=s.getChildByName(a[r]).addComponent(B);p.center=new c(1e-5,0,0),p.size=new c(2e-5,2e-4,2e-4),s.parent=g.getChildByName("Coin_placeholder"),5==++i&&function(){for(var e=/(-|)([0-9]+)/,a=function(){var a=t;if(i>0){(a=f(t)).name="Coin_set_"+(i+1),a.parent=t.parent,a.getComponent(b).left+=200*i;for(var r,s=n(a.children);!(r=s()).done;){var g=r.value;g.name.match("Row")&&l(g)}}a.getChildByName("Add_btn").on(h.EventType.MOUSE_DOWN,(function(){var t=a.getChildByName("Amnt_display").getComponent(u),n=parseInt(t.string.match(e)[0])+c();t.string="You have "+n+(1==n?" Assarius":" Assarii"),console.log(c())})),a.getChildByName("Bet_btn").on(h.EventType.MOUSE_DOWN,(function(t){var n=a.getChildByName("Amnt_display").getComponent(u),i=a.getChildByName("Bet_display").getComponent(u),r=parseInt(n.string.match(e)[0]),s=parseInt(i.string.match(e)[0]),l=Math.max(c(),0),g=r+s-l;n.string="You have "+g+(1==g?" Assarius":" Assarii"),i.string="Total bet: "+l+(1==l?" Assarius":" Assarii"),t.target.parent.parent.getComponent(o).updateTotalBet()})),a.getChildByName("Lose_bet_btn").on(v.EventType.CLICK,(function(){a.getChildByName("Bet_display").getComponent(u).string="Total bet: 0 Assarii"}));var c=function(){for(var t=0,e=[1,2,3,5,10],n=0;n<a.children.length;n++){var o=a.children[n];if(o.name.match("Row")){var i=parseInt(o.name.charAt(o.name.search(/\d/)))-1;t+=parseInt(o.getChildByName("Amount_text").getComponent(N).string)*e[i],o.getChildByName("Amount_text").getComponent(N).string="0"}}return t}},i=0;i<4;i++)a()}()})),g.getComponent(b).top=e.getComponent(b).top+35*r,l(g)},s=0;s<a.length;s++)r(s);function l(t){t.getChildByName("Increase_btn").on(v.EventType.CLICK,(function(){return g(t.getChildByName("Amount_text").getComponent(N),1)})),t.getChildByName("Decrease_btn").on(v.EventType.CLICK,(function(){return g(t.getChildByName("Amount_text").getComponent(N),-1)}))}function g(t,e){var n=parseInt(t.string);t.string=Math.max(n+e).toString()}},a.enableCoinFlip=function(){var t=this;i.on(r.EventType.MOUSE_DOWN,(function(e){var n=t.node.parent.parent.getChildByName("Camera").getComponent(l),o=new g.Ray;if(g.Ray.fromPoints(o,n.node.worldPosition,new c(e.getUILocationX(),e.getUILocationY(),0)),m.instance.raycastClosest(o)){var a=m.instance.raycastClosestResult.collider.node;if(("Coin_placeholder"==a.parent.parent.name||"As"==a.name)&&!t.coinRotating){t.coinRotating=!0;var i=new c,r=new p;a.parent.rotation.getEulerAngles(i),p.fromEuler(r,i.x,i.y+180,i.z),d(a.parent).to(.2,{rotation:r},{easing:"quadInOut",onComplete:function(){return t.coinRotating=!1}}).start()}}}),this.node.parent.parent)},a.enableBettorSelection=function(){for(var t,e=this,o=this.node.getChildByName("Bettors_1"),a=this.node.getChildByName("Bettors_2"),i=function(){var n=t.value;n.on(h.EventType.MOUSE_DOWN,(function(){var t;n.getComponent(u).color.toHEX()==A.fromHEX(new A,8750469).toHEX()?(n.getComponent(u).color=A.fromHEX(new A,16777215),"Bettors_1"==n.parent.name?(e.bettors1.push(n),(t=n.parent.parent.getChildByName("Bettors_2").getChildByName(n.name)).getComponent(u).color.toHEX()==A.fromHEX(new A,16777215).toHEX()&&(console.log("found"),t.getComponent(u).color=A.fromHEX(new A,8750469),e.bettors2.find((function(n,o){n==t&&e.bettors2.splice(o,1)})))):(e.bettors2.push(n),(t=n.parent.parent.getChildByName("Bettors_1").getChildByName(n.name)).getComponent(u).color.toHEX()==A.fromHEX(new A,16777215).toHEX()&&(t.getComponent(u).color=A.fromHEX(new A,8750469),e.bettors1.find((function(n,o){n==t&&e.bettors1.splice(o,1)}))))):("Bettors_1"==n.parent.name?e.bettors1.find((function(t,o){t==n&&e.bettors1.splice(o,1)})):e.bettors2.find((function(t,o){t==n&&e.bettors2.splice(o,1)})),n.getComponent(u).color=A.fromHEX(new A,8750469));console.log(e.bettors1,e.bettors2),e.updateTotalBet()}),e)},r=n(o.children.concat(a.children));!(t=r()).done;)i()},a.enableWinBtns=function(){var t=this,e=this.node.getChildByName("Won_btn_1"),n=this.node.getChildByName("Won_btn_2"),o=this.node.getChildByName("Total_bet_label_1"),a=this.node.getChildByName("Total_bet_label_2"),i=function(e){for(var n=0;n<4;n++){var i=void 0,r=1;if(null!=t.bettors1[n]?i=t.bettors1[n]:(i=t.bettors2[n-t.bettors1.length],r=2),null==i)return;var s=0,l=void 0,g=parseInt(i.name.match(t.numRegex_G)[0]),c=parseInt(t.node.getChildByName("Coin_set_"+g).getChildByName("Amnt_display").getComponent(u).string.match(t.numRegex_G)[0]),m=parseInt(t.node.getChildByName("Coin_set_"+g).getChildByName("Bet_display").getComponent(u).string.match(t.numRegex_G)[0]),p=parseInt(o.getComponent(u).string.match(t.numRegex_G)[0])+parseInt(a.getComponent(u).string.match(t.numRegex_G)[0]);"Won_btn_1"==e.target.name&&1==r?(l=parseInt(o.getComponent(u).string.match(t.numRegex_G)[0]),s=Math.round(m/l*p)):"Won_btn_2"==e.target.name&&2==r&&(l=parseInt(a.getComponent(u).string.match(t.numRegex_G)[0]),s=Math.round(m/l*p)),t.node.getChildByName("Coin_set_"+g).getChildByName("Bet_display").getComponent(u).string="Total bet: 0 Assarii",t.node.getChildByName("Coin_set_"+g).getChildByName("Amnt_display").getComponent(u).string="You have "+(c+s)+(c+s==1?" Assarius":" Assarii"),o.getComponent(u).string="Total bet:\n0 Assarii",a.getComponent(u).string="Total bet:\n0 Assarii"}};e.on(h.EventType.MOUSE_DOWN,i,this),n.on(h.EventType.MOUSE_DOWN,i,this)},a.updateTotalBet=function(){for(var t=0,e=0,n=this.node.getChildByName("Total_bet_label_1"),o=this.node.getChildByName("Total_bet_label_2"),a=0;a<4;a++){var i=void 0,r=1;if(null!=this.bettors1[a]?i=this.bettors1[a]:(i=this.bettors2[a-this.bettors1.length],r=2),null!=i){var s=parseInt(i.name.match(this.numRegex_G)[0]),l=parseInt(this.node.getChildByName("Coin_set_"+s).getChildByName("Bet_display").getComponent(u).string.match(this.numRegex_G)[0]);1==r?t+=l:e+=l}}n.getComponent(u).string="Total bet:\n"+t+(1==t?" Assarius":" Assarii"),o.getComponent(u).string="Total bet:\n"+e+(1==e?" Assarius":" Assarii")},a.startBetting=function(){var t=this;if(!this.betting&&255!=this.node.getComponent(C).opacity){this.node.getComponent(C).opacity=255,this.toggleCoinSetActive(!0),this.cards=this.node.parent.getComponent(S).cards,this.cardSlots=this.node.parent.getComponent(S).cardSlots;for(var e=function(e){if(d(t.cardSlots[e].getComponent(b)).to(.3,{left:t.cardSlots[e].getComponent(b).left-1280},{easing:"quadInOut",onComplete:function(){e==t.cardSlots.length-1&&(t.betting=!0)}}).start(),t.node.parent.getChildByName("Game App Background").getComponent(I).redSlotOccupier==t.cards[e]||t.node.parent.getChildByName("Game App Background").getComponent(I).blueSlotOccupier==t.cards[e]||null==t.cards[e])return 1;d(t.cards[e]).to(.3,{position:t.cards[e].position.clone().subtract(new c(1280,0,0))},{easing:"quadInOut"}).start()},n=4;n<this.cardSlots.length;n++)e(n)}},a.stopBetting=function(){var t=this;if(this.betting&&0!=this.node.getComponent(C).opacity){this.node.getComponent(C).opacity=0,this.toggleCoinSetActive(!1);for(var e=function(e){if(d(t.cardSlots[e].getComponent(b)).to(.3,{left:t.cardSlots[e].getComponent(b).left+1280},{easing:"quadInOut",onComplete:function(){e==t.cardSlots.length-1&&(t.betting=!1)}}).start(),t.node.parent.getChildByName("Game App Background").getComponent(I).redSlotOccupier==t.cards[e]||t.node.parent.getChildByName("Game App Background").getComponent(I).blueSlotOccupier==t.cards[e]||null==t.cards[e])return 1;d(t.cards[e]).to(.3,{position:t.cards[e].position.clone().add(new c(1280,0,0))},{easing:"quadInOut"}).start()},n=4;n<this.cardSlots.length;n++)e(n)}},a.toggleCoinSetActive=function(t){console.log(this.betting);for(var e,o=n(this.node.children);!(e=o()).done;){var a=e.value;a.name.match("Coin_set")&&(a.active=t)}},a.update=function(t){},o}(E))||w);o._RF.pop()}}}));

System.register("chunks:///_virtual/cardController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mainSceneComponent.ts"],(function(t){var e,n,r,o,a,i,l,c,g,u,s,d,p,h,v;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,o=t._decorator,a=t.input,i=t.Input,l=t.Node,c=t.EventMouse,g=t.game,u=t.Vec3,s=t.tween,d=t.Button,p=t.RichText,h=t.Component},function(t){v=t.mainSceneComponent}],execute:function(){var T;r._RF.push({},"9ea65Xd25pOMKckKOjIh1qf","cardController",void 0);var f=o.ccclass;t("cardController",f("cardController")(T=function(t){function r(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).isInSlot=!1,e.onStopMoving=function(){},e.currDragTarget=void 0,e.prevTick=void 0,e}e(r,t);var o=r.prototype;return o.onLoad=function(){this.enableDragging(),this.enableHealthChange()},o.enableDragging=function(){var t=this;a.on(i.EventType.MOUSE_MOVE,this.onMouseMove,this);for(var e,r=function(){var n,r=e.value;r.on(l.EventType.MOUSE_DOWN,(function(e){if(e.getButton()==c.BUTTON_LEFT&&null==t.currDragTarget){t.prevTick=g.totalTime,t.currDragTarget=e.getCurrentTarget(),console.log(t.currDragTarget.name);var r=t.currDragTarget.parent.children.length;null!=n||t.isInSlot||(n=t.currDragTarget.position.clone()),t.currDragTarget.setSiblingIndex(r)}}),t),r.on(l.EventType.MOUSE_MOVE,t.onMouseMove,t),r.on(l.EventType.MOUSE_UP,(function(e){if(e.getButton()==c.BUTTON_LEFT){var r=t.node.parent.getChildByName("Game App Background").getChildByName("Red_slot"),o=t.node.parent.getChildByName("Game App Background").getChildByName("Blue_slot");if(!t.isInSlot&&g.totalTime-t.prevTick>200||(t.currDragTarget.worldPosition.clone().subtract(r.worldPosition).length()<=100||t.currDragTarget.worldPosition.clone().subtract(o.worldPosition).length()<=100)&&g.totalTime-t.prevTick<=200){var a=new u,i=t.node.parent.getComponent(v);i.cards.find((function(e,n){e==t.currDragTarget&&t.node.worldMatrix.clone().invert().multiply(i.cardSlots[n].getChildByName("Card_frame").worldMatrix).getTranslation(a)})),s(t.currDragTarget).to(.2,{position:a},{easing:"quadInOut",onComplete:function(){t.currDragTarget=null,n=null}}).start()}else t.onStopMoving()}}),t)},o=n(this.node.children);!(e=o()).done;)r()},o.onMouseMove=function(t){null!=this.currDragTarget&&this.currDragTarget.setWorldPosition(t.getUILocationX(),t.getUILocationY(),this.currDragTarget.worldPosition.z)},o.enableHealthChange=function(){for(var t,e=this,r=this.node.parent.getChildByName("Card_slots"),o=function(){var n=t.value;if(null==n.getChildByName("Inc_btn"))return 1;n.getChildByName("Inc_btn").on(d.EventType.CLICK,(function(){return i(n.getChildByName("Label").getComponent(p),1)}),e),n.getChildByName("Dec_btn").on(d.EventType.CLICK,(function(){return i(n.getChildByName("Label").getComponent(p),-1)}),e)},a=n(r.children);!(t=a()).done;)o();var i=function(t,e){var n=t.string.substring(t.string.indexOf("\n")+2).match(/[0-9]+/),r=parseInt(n[0]),o=t.string.substring(0,t.string.indexOf("\n")+2);t.string=o+Math.max(0,Math.min(r+e,10))}},o.update=function(t){},r}(h))||T);r._RF.pop()}}}));

System.register("chunks:///_virtual/diceController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./math.ts"],(function(e){var n,t,i,r,o,a,c,l,s,u,p,d,m,f;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,r=e.Node,o=e.Slider,a=e.Label,c=e.instantiate,l=e.UITransform,s=e.Component,u=e.resources,p=e.SpriteFrame,d=e.AnimationClip,m=e.Animation},function(e){f=e.shuffle}],execute:function(){var h;t._RF.push({},"56590FHeOlEUJQMBlgFncQr","diceController",void 0);var v=i.ccclass;i.property,e("diceController",v("diceController")(h=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(n=e.call.apply(e,[this].concat(i))||this).maxNumDice=2,n}n(t,e);var i=t.prototype;return i.start=function(){},i.onLoad=function(){this.node.getChildByName("Dice_ctnr").on(r.EventType.MOUSE_DOWN,this.rollDice,this),this.enableNumDiceSlider()},i.update=function(e){},i.enableNumDiceSlider=function(){var e=this;this.node.getComponentInChildren(o).node.on("slide",(function(n){for(var t=1,i=0;i<e.maxNumDice;i++)if(n.progress>=i/e.maxNumDice&&n.progress<=(i+1)/e.maxNumDice){t=i+1;break}n.node.parent.getComponentInChildren(a).string="No. dice: "+t;for(var r=n.node.parent.parent.getChildByName("Dice_ctnr").getChildByName("Die_1"),o=1;o<=e.maxNumDice;o++){var s=r.parent.getChildByName("Die_"+o);if(null==s&&o<=t)(s=c(r)).parent=r.parent,s.name="Die_"+o;else if(null!=s&&o>t){s.destroy();continue}o<=t&&s.setPosition((.5-o/(t+1))*s.parent.getComponent(l).contentSize.x,s.position.y)}}))},i.rollDice=function(){for(var e=this,n=0,t=function(){var n=e.node.getChildByName("Dice_ctnr").getChildByName("Die_"+i);if(null==n)return 1;var t=[1,2,3,4,5,6];t=f(t);for(var o=[],a=function(e){u.load("die_faces/Die_face_"+t[e]+"/spriteFrame",p,(function(t,i){o.push(i),t&&console.log(t),5==e&&r(n,o)}))},c=0;c<6;c++)a(c)},i=1;i<=this.maxNumDice;i++)t();var r=function(t,i){var r=d.createWithSpriteFrames(i,24);r.speed=.5,r.name="die_roll_anim";var o=t.getComponent(m);o.addClip(r),o.play("die_roll_anim"),o.on(m.EventType.FINISHED,(function(){var e=i[i.length-1].name;n+=parseInt(e.charAt(e.search(/\d/))),console.log(n),o.removeClip(r,!0),r.destroy(),o.off(m.EventType.FINISHED)}),e)}},t}(s))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./battleController.ts","./bettingController.ts","./cardController.ts","./diceController.ts","./mainSceneComponent.ts","./math.ts"],(function(){return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainSceneComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./math.ts","./diceController.ts","./bettingController.ts"],(function(t){var e,n,o,i,a,s,r,d,l,h,c,C,u,m,g,p,y;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.UIOpacity,a=t.input,s=t.Input,r=t.KeyCode,d=t.Quat,l=t.Vec3,h=t.Widget,c=t.instantiate,C=t.RichText,u=t.tween,m=t.Component},function(t){g=t.shuffle},function(t){p=t.diceController},function(t){y=t.bettingController}],execute:function(){var f;n._RF.push({},"e4a1fhBK9xAe5AGD/3vynRj","mainSceneComponent",void 0);var _=o.ccclass;o.property,t("mainSceneComponent",_("mainSceneComponent")(f=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).num_char=8,e.cardSlots=[],e.cards=[],e.areCardsDistributed=!1,e}e(n,t);var o=n.prototype;return o.start=function(){},o.onLoad=function(){this.node.getChildByName("Coin_sets").getComponent(i).opacity=0,this.node.getChildByName("Coin_sets").getComponent(y).toggleCoinSetActive(!1),this.node.getChildByName("Cards").active=!1,this.duplicateCardSlots(),a.on(s.EventType.KEY_DOWN,this.onKeyDown,this)},o.onKeyDown=function(t){switch(t.keyCode){case r.KEY_Q:this.distributeCards();break;case r.KEY_W:this.node.getChildByName("Dice").getComponent(p).rollDice();break;case r.KEY_E:this.node.getChildByName("Cards").getChildByName("Urelia Card").setRotation(d.fromAxisAngle(new d,l.UNIT_Y,1.5))}},o.duplicateCardSlots=function(){var t=this.node.getChildByName("Card_slots").getChildByName("Card_slot_1"),e=this.node.getChildByName("Card_slots").getChildByName("Card_slot_5"),n=this.num_char-2;this.cardSlots.push(t);for(var o=1;o<=n;o++){var i=t.getComponent(h).left,a=void 0;o==n/2+1&&this.cardSlots.push(e),o<=n/2?((a=c(t)).getChildByName("Label").getComponent(C).string="Player "+(o+1)+"\nx10",a.name="Card_slot_"+(o+1),a.getComponent(h).left=i+200*o):((a=c(e)).getChildByName("Label").getComponent(C).string="Gladiator "+(o-n/2+1),a.name="Card_slot_"+(o+2),a.getComponent(h).left=i+200*(o-n/2)),a.parent=this.node.getChildByName("Card_slots"),this.cardSlots.push(a)}},o.distributeCards=function(){if(this.node.getChildByName("Cards").active=!0,!this.areCardsDistributed){this.areCardsDistributed=!0;for(var t=[],e=this.node.getChildByName("Cards"),n=1;n<=this.num_char;n++)t.push(n);t=g(t);for(var o=0;o<this.num_char;o++)u(e.children[t[o]-1]).delay(.2*o).to(.2,{worldPosition:this.cardSlots[o].getChildByName("Card_frame").getWorldPosition()},{easing:"quadInOut"}).start(),this.cards.push(e.children[t[o]-1])}},o.startBetting=function(){this.node.getChildByName("Coin_sets").getComponent(y).startBetting()},o.stopBetting=function(){this.node.getChildByName("Coin_sets").getComponent(y).stopBetting()},o.update=function(t){},n}(m))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/math.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("shuffle",(function(t){for(var e=t.length-1;e>0;e--){var r=Math.floor(Math.random()*(e+1)),n=[t[r],t[e]];t[e]=n[0],t[r]=n[1]}return t})),e._RF.push({},"da90epqZVRJL5zq+43vimXJ","math",void 0),e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});